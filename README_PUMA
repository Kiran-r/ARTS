Instructions for installing and running the HIVE RTS on the PUMA cluster
========================================================================

INSTALLATION
++++++++++++

Make sure that you have gcc and cmake loaded in your environment:

$ module load gcc/5.2.0 cmake/3.3.0

OBTAIN THE SOURCE CODE
++++++++++++++++++++++

Clone the source repo:

$ git clone https://<username>@stash.pnnl.gov/scm/haggle/arts.git

where the <username> is your login name to the system. This will create a folder called "arts".

COMPILE
+++++++

Enter to the arts folder:

$ cd arts

Create a build folder and use cmake to build the system:

$ mkdir build; cd build; cmake ../

If everything goes well, you should have the binaries under the build folder.

TESTING
+++++++

Copy from the sampleConfigs the hive_puma.cfg to the build/test folder:

$ cp arts/sampleConfigs/hive_puma.cfg arts/build/test/hive.cfg

Afterwards, you can run the test files by using srun:

$ srun -N 4 -n 4 -c 20 -p compute ./fib 32

The output should read: 

[0] Using Slurm
[0] Fib 32: 2178309 1

KNOWN PROBLEMS
++++++++++++++

- In PUMA, you should not run across the partition names since it can only run across nodes with the same prefix (pphi01, pphi02, pphi03, ... or pnode01, pnode02, pnode03, ..., but not across).
- There is a rare instance in which the RTS does not end cleanly. This is normal since the application finishes normal (output is produced correctly).
